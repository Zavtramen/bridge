(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{510:function(e,t,n){var content=n(889);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(100).default)("1774db4e",content,!0,{sourceMap:!1})},512:function(e,t,n){var content=n(892);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(100).default)("fe95318e",content,!0,{sourceMap:!1})},527:function(e,t){},529:function(e,t){},532:function(e,t){},538:function(e,t){},639:function(e,t){},663:function(e,t){},665:function(e,t){},736:function(e,t){},738:function(e,t){},771:function(e,t){},776:function(e,t){},778:function(e,t){},785:function(e,t){},798:function(e,t){},826:function(e,t){},834:function(e,t){},836:function(e,t){},885:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"name_","type":"string"},{"internalType":"string","name":"symbol_","type":"string"},{"internalType":"address[]","name":"initialSet","type":"address[]"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"},{"indexed":true,"internalType":"address","name":"spender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"int256","name":"oracleSetHash","type":"int256"},{"indexed":false,"internalType":"address[]","name":"newOracles","type":"address[]"}],"name":"NewOracleSet","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":false,"internalType":"int8","name":"to_wc","type":"int8"},{"indexed":true,"internalType":"bytes32","name":"to_addr_hash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SwapEthToTon","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"int8","name":"workchain","type":"int8"},{"indexed":true,"internalType":"bytes32","name":"ton_address_hash","type":"bytes32"},{"indexed":true,"internalType":"bytes32","name":"ton_tx_hash","type":"bytes32"},{"indexed":false,"internalType":"uint64","name":"lt","type":"uint64"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SwapTonToEth","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"from","type":"address"},{"indexed":true,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"Transfer","type":"event"},{"inputs":[],"name":"allowBurn","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"addr","type":"tuple"}],"name":"burn","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"},{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"addr","type":"tuple"}],"name":"burnFrom","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"digest","type":"bytes32"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature","name":"sig","type":"tuple"}],"name":"checkSignature","outputs":[],"stateMutability":"pure","type":"function"},{"inputs":[],"name":"decimals","outputs":[{"internalType":"uint8","name":"","type":"uint8"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"subtractedValue","type":"uint256"}],"name":"decreaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"finishedVotings","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getFullOracleSet","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bool","name":"newBurnStatus","type":"bool"},{"internalType":"int256","name":"nonce","type":"int256"}],"name":"getNewBurnStatusId","outputs":[{"internalType":"bytes32","name":"result","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"int256","name":"oracleSetHash","type":"int256"},{"internalType":"address[]","name":"set","type":"address[]"}],"name":"getNewSetId","outputs":[{"internalType":"bytes32","name":"result","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint64","name":"amount","type":"uint64"},{"components":[{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"address_","type":"tuple"},{"internalType":"bytes32","name":"tx_hash","type":"bytes32"},{"internalType":"uint64","name":"lt","type":"uint64"}],"internalType":"struct TonUtils.TonTxID","name":"tx","type":"tuple"}],"internalType":"struct TonUtils.SwapData","name":"data","type":"tuple"}],"name":"getSwapDataId","outputs":[{"internalType":"bytes32","name":"result","type":"bytes32"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"addedValue","type":"uint256"}],"name":"increaseAllowance","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"}],"name":"isOracle","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"name","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"","type":"uint256"}],"name":"oraclesSet","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"receivedVotes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"symbol","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"},{"internalType":"address","name":"","type":"address"}],"name":"unfinishedVotings","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"components":[{"internalType":"address","name":"receiver","type":"address"},{"internalType":"uint64","name":"amount","type":"uint64"},{"components":[{"components":[{"internalType":"int8","name":"workchain","type":"int8"},{"internalType":"bytes32","name":"address_hash","type":"bytes32"}],"internalType":"struct TonUtils.TonAddress","name":"address_","type":"tuple"},{"internalType":"bytes32","name":"tx_hash","type":"bytes32"},{"internalType":"uint64","name":"lt","type":"uint64"}],"internalType":"struct TonUtils.TonTxID","name":"tx","type":"tuple"}],"internalType":"struct TonUtils.SwapData","name":"data","type":"tuple"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature[]","name":"signatures","type":"tuple[]"}],"name":"voteForMinting","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"int256","name":"oracleSetHash","type":"int256"},{"internalType":"address[]","name":"newOracles","type":"address[]"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature[]","name":"signatures","type":"tuple[]"}],"name":"voteForNewOracleSet","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bool","name":"newBurnStatus","type":"bool"},{"internalType":"int256","name":"nonce","type":"int256"},{"components":[{"internalType":"address","name":"signer","type":"address"},{"internalType":"bytes","name":"signature","type":"bytes"}],"internalType":"struct TonUtils.Signature[]","name":"signatures","type":"tuple[]"}],"name":"voteForSwitchBurn","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},888:function(e,t,n){"use strict";n(510)},889:function(e,t,n){var r=n(99),o=n(511),c=n(890),d=r(!1),l=o(c);d.push([e.i,".BridgeProcessor-cancel[data-v-50e988da],.BridgeProcessor-done[data-v-50e988da],.BridgeProcessor-getTonCoin[data-v-50e988da],.BridgeProcessor-transfer[data-v-50e988da]{-webkit-appearance:none;background-color:#1d98dc;border-radius:25px;color:#fff;font-size:16px;line-height:19px;border:none;padding:15px 35px 14px;margin-top:20px}.isPointer .BridgeProcessor-cancel[data-v-50e988da]:hover,.isPointer .BridgeProcessor-done[data-v-50e988da]:hover,.isPointer .BridgeProcessor-getTonCoin[data-v-50e988da]:hover,.isPointer .BridgeProcessor-transfer[data-v-50e988da]:hover,.isTouch .BridgeProcessor-cancel[data-v-50e988da]:active,.isTouch .BridgeProcessor-done[data-v-50e988da]:active,.isTouch .BridgeProcessor-getTonCoin[data-v-50e988da]:active,.isTouch .BridgeProcessor-transfer[data-v-50e988da]:active{background-color:#5fb8ea}.BridgeProcessor-infoWrapper[data-v-50e988da]{text-align:left;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;font-size:18px}@media (max-width:800px){.BridgeProcessor-infoWrapper[data-v-50e988da]{font-size:16px}}.BridgeProcessor-infoLine[data-v-50e988da]{margin-top:20px;display:flex;align-items:center}.BridgeProcessor-info-icon[data-v-50e988da]{flex-shrink:0}.BridgeProcessor-info-icon.done[data-v-50e988da]{width:18px;height:18px;background-image:url("+l+");background-size:contain;background-repeat:no-repeat;background-position:50%;margin-right:10px}.BridgeProcessor-info-icon.pending[data-v-50e988da]{width:12px;height:12px;border:3px solid #1d98dc;border-left-color:transparent;border-radius:50%;-webkit-animation:rotating-data-v-50e988da 2s linear infinite;animation:rotating-data-v-50e988da 2s linear infinite;margin-right:13px;margin-left:3px}.BridgeProcessor-info-icon.none[data-v-50e988da]{width:8px;height:8px;margin-left:4px;margin-right:14px;background-color:#1d98dc;border-radius:50%}.BridgeProcessor-info-text a[data-v-50e988da]{color:#1d98dc;text-decoration:underline}.isPointer .BridgeProcessor-info-text a[data-v-50e988da]:hover,.isTouch .BridgeProcessor-info-text a[data-v-50e988da]:active{text-decoration:none}.BridgeProcessor-info-text .note[data-v-50e988da]{margin-top:8px}@-webkit-keyframes rotating-data-v-50e988da{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes rotating-data-v-50e988da{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}",""]),e.exports=d},890:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTkuMC4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iTGF5ZXJfMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiCgkgdmlld0JveD0iMCAwIDUxMiA1MTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDUxMiA1MTI7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPGVsbGlwc2Ugc3R5bGU9ImZpbGw6IzNCQjU0QTsiIGN4PSIyNTYiIGN5PSIyNTYiIHJ4PSIyNTYiIHJ5PSIyNTUuODMyIi8+Cjxwb2x5Z29uIHN0eWxlPSJmaWxsOiNGRkZGRkY7IiBwb2ludHM9IjIzNS40NzIsMzkyLjA4IDExNC40MzIsMjk3Ljc4NCAxNDguODQ4LDI1My42MTYgMjIzLjE3NiwzMTEuNTIgMzQ1Ljg0OCwxMzQuNTA0IAoJMzkxLjg4LDE2Ni4zOTIgIi8+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+CjxnPgo8L2c+Cjwvc3ZnPgo="},891:function(e,t,n){"use strict";n(512)},892:function(e,t,n){var r=n(99),o=n(511),c=n(893),d=n(894),l=n(895),m=r(!1),h=o(c),f=o(d),y=o(l);m.push([e.i,".Bridge-testnetWarning[data-v-06a8ecf5]{position:absolute;left:0;top:0;color:#fff;width:100%;padding:8px 0;text-align:center;background:red;font-weight:700}.Bridge-content[data-v-06a8ecf5]{display:flex;flex-direction:column;align-items:center;padding:100px 40px 10px}@media (max-width:800px){.Bridge-content[data-v-06a8ecf5]{padding:48px 16px 10px}}.Bridge-img[data-v-06a8ecf5]{background-image:url("+h+');background-size:contain;background-repeat:no-repeat;background-position:50%;max-width:450px;width:100%;height:450px;transition:transform .15s ease-out;transform:scaleX(-1)}@media (max-width:800px){.Bridge-img[data-v-06a8ecf5]{height:300px}}.Bridge-img.isFromTon[data-v-06a8ecf5]{transform:none}.Bridge-form[data-v-06a8ecf5]{text-align:center;flex-direction:column;max-width:500px}.Bridge-form[data-v-06a8ecf5],.Bridge-switchers[data-v-06a8ecf5]{display:flex;align-items:center;width:100%}.Bridge-switchers[data-v-06a8ecf5]{flex-direction:row-reverse;margin-bottom:40px}.Bridge-switchers.isFromTon[data-v-06a8ecf5]{flex-direction:row}.Bridge-switcher[data-v-06a8ecf5]{position:relative;flex:1 0}.Bridge-switcherTitle[data-v-06a8ecf5]{position:relative;font-size:36px;font-weight:700;cursor:pointer;white-space:nowrap}@media (max-width:800px){.Bridge-switcherTitle[data-v-06a8ecf5]{font-size:22px}}.Bridge-switcherTitle.disabled[data-v-06a8ecf5]{cursor:default;pointer-events:none}.Bridge-switcherTitle span[data-v-06a8ecf5]{white-space:normal}.Bridge-switcherTitle em[data-v-06a8ecf5]{display:inline-block;vertical-align:5px;width:0;height:0;border-color:#000 transparent transparent;border-style:solid;border-width:10px 5px 0}.Bridge-switcherTitle:hover .Bridge-switcherList[data-v-06a8ecf5]{transition:opacity .15s ease-in-out;opacity:1;visibility:inherit}.Bridge-switcherAnno[data-v-06a8ecf5]{margin-top:4px;height:20px}.Bridge-switcherAnno a[data-v-06a8ecf5]{display:inline-block;color:#000;border-bottom:1px dotted #aaa}.isPointer .Bridge-switcherAnno a[data-v-06a8ecf5]:hover,.isTouch .Bridge-switcherAnno a[data-v-06a8ecf5]:active{border-bottom:1px dotted transparent}.Bridge-switcherAnno a[data-v-06a8ecf5]:after{content:"";display:inline-block;height:16px;width:16px;background-image:url('+f+');background-repeat:no-repeat;background-size:contain;background-position:0 3px}@media (max-width:800px){.Bridge-switcherAnno a[data-v-06a8ecf5]:after{display:none}}@media (max-width:800px){.Bridge-switcherAnno[data-v-06a8ecf5]{font-size:12px}}.Bridge-switcherList[data-v-06a8ecf5]{background:#fff;border-radius:16px;box-shadow:0 8px 24px rgba(48,55,87,.12);box-sizing:border-box;color:#303757;font-size:16px;left:-16px;line-height:20px;list-style-type:none;margin:0;padding:12px 24px;position:absolute;right:-16px;top:100%;word-break:break-word;white-space:normal;transition:all 0 ease-in-out;opacity:0;visibility:hidden}.Bridge-switcherList[data-v-06a8ecf5]:before{content:"";position:absolute;top:-20px;width:100%;left:0;height:20px}.Bridge-switcherList li button[data-v-06a8ecf5]{padding:10px 0;color:#303757;font-weight:700;cursor:pointer}.isPointer .Bridge-switcherList li button[data-v-06a8ecf5]:hover,.isTouch .Bridge-switcherList li button[data-v-06a8ecf5]:active{color:#1d98dc}.Bridge-switcher-arrow[data-v-06a8ecf5]{cursor:pointer;background-image:url('+y+");background-size:contain;background-repeat:no-repeat;background-position:50%;width:32px;height:32px;margin-left:16px;margin-right:16px}.Bridge-switcher-arrow[disabled][data-v-06a8ecf5]{cursor:default}.Bridge-inputWrapper[data-v-06a8ecf5]{width:100%}.Bridge-inputWrapper input[data-v-06a8ecf5]{line-height:36px;width:100%;max-width:500px;padding:8px;font-size:18px;border:1px solid #ccc;border-radius:8px;margin-top:8px;margin-bottom:20px;-webkit-appearance:none}.Bridge-inputWrapper input[disabled][data-v-06a8ecf5]{color:grey}.Bridge-pairFee[data-v-06a8ecf5]{color:#666;margin-bottom:4px}.Bridge-bridgeFee[data-v-06a8ecf5]{color:#666;margin-bottom:10px}.Bridge-footer[data-v-06a8ecf5]{margin-top:100px;text-align:center;font-size:12px;color:#666}.Bridge-footer a[data-v-06a8ecf5]{color:#666;text-decoration:underline}.isPointer .Bridge-footer a[data-v-06a8ecf5]:hover,.isTouch .Bridge-footer a[data-v-06a8ecf5]:active{text-decoration:none}",""]),e.exports=m},893:function(e,t,n){e.exports=n.p+"img/swap.b8b4b2f.svg"},894:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/Pgo8IS0tIEdlbmVyYXRvcjogQWRvYmUgSWxsdXN0cmF0b3IgMTUuMS4wLCBTVkcgRXhwb3J0IFBsdWctSW4gLiBTVkcgVmVyc2lvbjogNi4wMCBCdWlsZCAwKSAgLS0+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+CjxzdmcgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgd2lkdGg9IjEycHgiCgkgaGVpZ2h0PSIxMnB4IiB2aWV3Qm94PSIwIDAgMTIgMTIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDEyIDEyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CjxnIGlkPSJJY29ucyIgc3R5bGU9ImZpbGw6I2FhYTsiPgoJPGcgaWQ9ImV4dGVybmFsIj4KCQk8cG9seWdvbiBpZD0iYm94IiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7IiBwb2ludHM9IjIsMiA1LDIgNSwzIDMsMyAzLDkgOSw5IDksNyAxMCw3IDEwLDEwIDIsMTAgCQkiLz4KCQk8cG9seWdvbiBpZD0iYXJyb3dfMTNfIiBzdHlsZT0iZmlsbC1ydWxlOmV2ZW5vZGQ7Y2xpcC1ydWxlOmV2ZW5vZGQ7IiBwb2ludHM9IjYuMjExLDIgMTAsMiAxMCw1Ljc4OSA4LjU3OSw0LjM2OCA2LjQ0Nyw2LjUKCQkJNS41LDUuNTUzIDcuNjMyLDMuNDIxIAkJIi8+Cgk8L2c+CjwvZz4KPGcgaWQ9Ikd1aWRlcyIgc3R5bGU9ImRpc3BsYXk6bm9uZTsiPgo8L2c+Cjwvc3ZnPgo="},895:function(e,t,n){e.exports=n.p+"img/arrow.69e1e70.svg"},902:function(e,t,n){"use strict";n.r(t);var r=n(5),o=n(173),c=(n(46),n(47),n(17),n(63),n(521),n(34),n(10),n(50),n(0)),d=n(523),l=n.n(d),m=(n(64),n(395)),h=n.n(m);function f(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}function y(e){return 1e9*e}function v(e){return e/1e9}function w(e){return parseInt(e[1],16)}function x(e){return"0x"+new h.a.utils.BN(e).toString(16)}var T={tonTransferUrl:"ton://transfer/<BRIDGE_ADDRESS>?amount=<AMOUNT>&text=swapTo%23<TO_ADDRESS>",networks:{eth:{main:{getGasUrl:"https://ethereumgas.toncenter.com",explorerUrl:"https://etherscan.io/token/<ADDRESS>",wTonAddress:"0x582d872a1b094fc48f5de31d3b73f2d9be47def1",tonBridgeAddress:"Ef_dJMSh8riPi3BTUTtcxsWjG8RLKnLctNjAM4rw8NN-xWdr",tonCollectorAddress:"EQCuzvIOXLjH2tv35gY4tzhIvXCqZWDuK9kUhFGXKLImgxT5",tonMultisigAddress:"kf87m7_QrVM4uXAPCDM4DuF9Rj5Rwa5nHubwiQG96JmyAo-S",tonCenterUrl:"https://wallet.toncenter.com/api/v2/jsonRPC",chainId:1,blocksConfirmations:12,defaultGwei:25,coinsPerGweiTo:.004,coinsPerGweiFrom:.001},test:{getGasUrl:"https://ethereumgas.toncenter.com",explorerUrl:"https://ropsten.etherscan.io/token/<ADDRESS>",wTonAddress:"0x10922606e41e5b7Fcca21e773B00f0436D4F941F",tonBridgeAddress:"Ef_dJMSh8riPi3BTUTtcxsWjG8RLKnLctNjAM4rw8NN-xWdr",tonCollectorAddress:"UQCuzvIOXLjH2tv35gY4tzhIvXCqZWDuK9kUhFGXKLImg0k8",tonMultisigAddress:"kf9rkj49lXch15cbC7q-_b04HFF0L0XRyoKo-fEQU6sfL7I5",tonCenterUrl:"https://testnet.toncenter.com/api/v2/jsonRPC",chainId:3,blocksConfirmations:12,defaultGwei:25,coinsPerGweiTo:.004,coinsPerGweiFrom:.001}},bsc:{main:{getGasUrl:"https://gbsc.blockscan.com/gasapi.ashx?apikey=key&method=gasoracle",explorerUrl:"https://bscscan.com/token/<ADDRESS>",wTonAddress:"0x76A797A59Ba2C17726896976B7B3747BfD1d220f",tonBridgeAddress:"Ef9NXAIQs12t2qIZ-sRZ26D977H65Ol6DQeXc5_gUNaUys5r",tonCollectorAddress:"EQAHI1vGuw7d4WG-CtfDrWqEPNtmUuKjKFEFeJmZaqqfWTvW",tonMultisigAddress:"kf8OvX_5ynDgbp4iqJIvWudSEanWo0qAlOjhWHtga9u2Yo7j",tonCenterUrl:"https://wallet.toncenter.com/api/v2/jsonRPC",chainId:56,blocksConfirmations:12,defaultGwei:5,coinsPerGweiTo:8e-4,coinsPerGweiFrom:2e-4},test:{getGasUrl:"https://gbsc.blockscan.com/gasapi.ashx?apikey=key&method=gasoracle",explorerUrl:"https://testnet.bscscan.com/token/<ADDRESS>",wTonAddress:"0xA345a7C8d88279165214f6dA6e857041902955C5",tonBridgeAddress:"Ef9NXAIQs12t2qIZ-sRZ26D977H65Ol6DQeXc5_gUNaUys5r",tonCollectorAddress:"EQAHI1vGuw7d4WG-CtfDrWqEPNtmUuKjKFEFeJmZaqqfWTvW",tonMultisigAddress:"Ef8_p_O8fAYRU8pYkiKMh4ndQzw30SEnegy0m7vYN2unnR-W",tonCenterUrl:"https://testnet.toncenter.com/api/v2/jsonRPC",chainId:97,blocksConfirmations:12,defaultGwei:5,coinsPerGweiTo:8e-4,coinsPerGweiFrom:2e-4}}}},k=(n(30),n(40),n(35),n(21),n(41),n(42),n(36),n(593),n(106),n(596),n(107),n(599),n(601),n(606),n(608),n(609),n(610),n(612),n(613),n(614),n(615),n(616),n(617),n(618),n(619),n(621),n(622),n(623),n(624),n(625),n(626),n(627),n(628),n(629),n(630),n(631),n(33),n(43),n(108),n(66),n(184),n(632)),B=n.n(k),C=n(885),I=n(896);function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,d=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){d=!0,o=e},f:function(){try{c||null==n.return||n.return()}finally{if(d)throw o}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var A=h.a.utils.BN,N=c.a.extend({props:{isTestnet:{type:Boolean,required:!0},isRecover:{type:Boolean,required:!0},lt:{type:Number,required:!0},hash:{type:String,required:!0},isFromTon:{type:Boolean,required:!0},pair:{type:String,required:!0},amount:{type:Number},toAddress:{type:String,required:!0}},data:function(){return{newBlockHeadersSubscription:null,updateStateInterval:null,provider:null,ethToTon:null,state:{swapId:"",queryId:"0",fromCurrencySent:!1,toCurrencySent:!1,step:0,votes:null,swapData:null,createTime:0,blockNumber:0}}},computed:{netTypeName:function(){return this.isTestnet?"test":"main"},params:function(){return T.networks[this.pair][this.netTypeName]},isGetTonCoinVisible:function(){return this.isFromTon&&!this.state.toCurrencySent&&4===this.state.step},isDoneVisible:function(){return this.state.step>4},isCancelVisible:function(){return this.isFromTon&&1===this.state.step},fromCoin:function(){return this.isFromTon?this.$t("Bridge.networks.ton.".concat(this.netTypeName,".coinShort")):this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".coinShort"))},toCoin:function(){return this.isFromTon?this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".coinShort")):this.$t("Bridge.networks.ton.".concat(this.netTypeName,".coinShort"))},toNetwork:function(){var e=this.isFromTon?this.pair:"ton";return this.$t("Bridge.networks.".concat(e,".").concat(this.netTypeName,".name"))},getStepInfoText1:function(){if(1===this.state.step){if(this.isFromTon){var e=T.tonTransferUrl.replace("<BRIDGE_ADDRESS>",this.params.tonBridgeAddress).replace("<AMOUNT>",String(y(this.amount))).replace("<TO_ADDRESS>",this.toAddress);return{isOnlyText:!1,sendAmount:this.$t("Bridge.networks.ton.transactionSendAmount").replace("<AMOUNT>",String(this.amount)).replace("<FROM_COIN>",this.fromCoin),url:e,sendFromPersonal:this.$t("Bridge.networks.ton.transactionSendFromPersonal"),sendNotFromExchanges:this.$t("Bridge.networks.ton.transactionSendNotFromExchanges")}}return{isOnlyText:!0,text:this.state.fromCurrencySent?this.$t("Bridge.networks.".concat(this.pair,".transactionWait")):this.$t("Bridge.networks.".concat(this.pair,".transactionSend"))}}var t=this.isFromTon?"ton":this.pair;return{isOnlyText:!0,text:this.$t("Bridge.networks.".concat(t,".transactionCompleted"))}},getStepInfoText2:function(){var e;if(this.isFromTon)return"";if(2===this.state.step){var t=((null===(e=this.provider)||void 0===e?void 0:e.blockNumber)||this.state.blockNumber)-this.state.blockNumber;return t=Math.min(t,this.params.blocksConfirmations),this.$t("Bridge.networks.".concat(this.pair,".blocksConfirmations")).replace("<COUNT>",String(t)+"/"+String(this.params.blocksConfirmations))}return this.state.step>2?this.$t("Bridge.blocksConfirmationsCollected"):this.$t("Bridge.blocksConfirmationsWaiting")},getStepInfoText3:function(){var e,t;if(3===this.state.step){var n=((null===(e=this.state.votes)||void 0===e?void 0:e.length)||0)+"/"+((null===(t=this.provider)||void 0===t?void 0:t.oraclesTotal)||0);return this.$t("Bridge.oraclesConfirmations").replace("<COUNT>",String(n))}return this.state.step>3?this.$t("Bridge.oraclesConfirmationsCollected"):this.$t("Bridge.oraclesConfirmationsWaiting")},getStepInfoText4:function(){return 4===this.state.step?this.isFromTon?this.state.toCurrencySent?this.$t("Bridge.networks.".concat(this.pair,".transactionWait")):this.$t("Bridge.getCoinsByMetamask").replace("<TO_COIN>",this.toCoin):this.$t("Bridge.coinsSent").replace("<TO_COIN>",this.toCoin):this.state.step>4?this.$t("Bridge.coinsSent").replace("<TO_COIN>",this.toCoin):"Get "+this.toCoin+"s in "+this.toNetwork}},watch:{"state.step":{immediate:!0,handler:function(e){this.$emit("state-changed"),this.$emit("interface-blocked",e>0)}}},mounted:function(){this.updateState(),this.updateStateInterval=setInterval(this.updateState,5e3)},beforeDestroy:function(){clearInterval(this.updateStateInterval),this.newBlockHeadersSubscription&&this.newBlockHeadersSubscription.unsubscribe();var e=window.ethereum;e&&e.removeListener("accountsChanged",this.onAccountChanged)},methods:{resetState:function(){this.state.swapId="",this.state.queryId="0",this.state.fromCurrencySent=!1,this.state.toCurrencySent=!1,this.state.step=0,this.state.votes=null,this.state.swapData=null,this.state.createTime=0,this.state.blockNumber=0,this.$emit("reset-state")},loadState:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.initProvider();case 4:if(t.provider=n.sent,t.provider){n.next=7;break}return n.abrupt("return");case 7:return Object.assign(t.state,e),n.next=10,t.updateState();case 10:case"end":return n.stop()}}),n)})))()},saveState:function(){this.$emit("save-state",this.state)},deleteState:function(){this.$emit("delete-state")},updateState:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(1!==e.state.step||!e.isFromTon){t.next=5;break}return t.next=3,e.getSwap(e.amount,e.toAddress,e.state.createTime);case 3:(r=t.sent)&&(e.state.swapId=e.getSwapTonToEthId(e.provider.web3,r),e.state.swapData=r,e.state.step=3);case 5:if(2!==e.state.step||e.isFromTon){t.next=15;break}if(!(((null===(n=e.provider)||void 0===n?void 0:n.blockNumber)||e.state.blockNumber)-e.state.blockNumber>e.params.blocksConfirmations)){t.next=15;break}return t.next=10,e.provider.web3.eth.getBlock(e.state.blockNumber);case 10:o=t.sent,e.ethToTon.blockTime=Number(o.timestamp),e.ethToTon.blockHash=o.hash,e.state.queryId=e.getQueryId(e.ethToTon).toString(),e.state.step=3;case 15:if(3!==e.state.step){t.next=27;break}if(!e.isFromTon){t.next=22;break}return t.next=19,e.getEthVote(e.state.swapId);case 19:t.t0=t.sent,t.next=25;break;case 22:return t.next=24,e.getTonVote(e.state.queryId);case 24:t.t0=t.sent;case 25:e.state.votes=t.t0,e.state.votes&&e.state.votes.length>=2*e.provider.oraclesTotal/3&&(e.state.step=e.isFromTon?4:5);case 27:case"end":return t.stop()}}),t)})))()},getSwapTonToEthId:function(e,t){var n;return"eth"===this.pair&&(n=e.eth.abi.encodeParameters(["int","address","uint256","int8","bytes32","bytes32","uint64"],[55930,t.receiver,t.amount,t.tx.address_.workchain,t.tx.address_.address_hash,t.tx.tx_hash,t.tx.lt])),"bsc"===this.pair&&(n=e.eth.abi.encodeParameters(["int","address","address","uint256","int8","bytes32","bytes32","uint64"],[55930,this.params.wTonAddress,t.receiver,t.amount,t.tx.address_.workchain,t.tx.address_.address_hash,t.tx.tx_hash,t.tx.lt])),B.a.utils.sha3(n)},serializeEthToTon:function(e){var t=new h.a.boc.BitString(608);return t.writeUint(0,8),t.writeUint(new A(e.transactionHash.substr(2),16),256),t.writeInt(e.logIndex,16),t.writeUint(e.to.workchain,8),t.writeUint(new A(e.to.address_hash,16),256),t.writeUint(new A(e.value),64),t.array},getQueryId:function(e){var t=e.blockTime+2592e3+2,n=B.a.utils.sha3(e.blockHash+"_"+e.transactionHash+"_"+String(e.logIndex)).substr(2,8);return new A(t).mul(new A(4294967296)).add(new A(n,16))},getFeeAmount:function(e){var t=new A(e).sub(this.provider.feeFlat).mul(this.provider.feeFactor).div(this.provider.feeBase);return this.provider.feeFlat.add(t)},makeAddress:function(address){if(!address.startsWith("0x"))throw new Error("Invalid address "+address);for(var e=address.substr(2);e.length<40;)e="0"+e;return"0x"+e},getSwap:function(e,t,n){var o=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var c,d,l,m,f,y,v,w,x,T,k,B,C,I,_,N,P,F,M,L;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return console.log("getTransactions",o.params.tonBridgeAddress,o.lt&&o.hash?1:o.isRecover?200:40,o.lt||void 0,o.hash||void 0,void 0,!(!o.lt||!o.hash)||void 0),r.next=3,o.provider.tonweb.provider.getTransactions(o.params.tonBridgeAddress,o.lt&&o.hash?1:o.isRecover?200:40,o.lt||void 0,o.hash||void 0,void 0,!(!o.lt||!o.hash)||void 0);case 3:c=r.sent,console.log("ton txs",c.length),d=function(e){if(!e)return null;var t,n=S(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(""===r.destination)return r}}catch(e){n.e(e)}finally{n.f()}return null},l=function(e){var t=e.message.substr(0,e.message.length-1),n=h.a.utils.base64ToBytes(t);return 28!==n.length?null:n},m=function(e){var t,n=null===(t=e.msg_data)||void 0===t?void 0:t.text,r=h.a.utils.base64ToBytes(n),o=new Uint8Array(r.length+4);return o.set(r,4),o},f=function(e){var t=e.msg_data["@type"];return"msg.dataText"===t?m(e):"msg.dataRaw"===t?l(e):(console.error("Unknown log msg type "+t),null)},y=S(c),r.prev=10,y.s();case 12:if((v=y.n()).done){r.next=43;break}if(w=v.value,!(x=d(w.out_msgs))){r.next=41;break}if(o.isRecover||o.lt&&o.hash){r.next=19;break}if(!(1e3*w.utime<n)){r.next=19;break}return r.abrupt("continue",41);case 19:if(null!==(T=f(x))){r.next=22;break}return r.abrupt("continue",41);case 22:if(k=o.makeAddress("0x"+h.a.utils.bytesToHex(T.slice(0,20))),B=h.a.utils.bytesToHex(T.slice(20,28)),C=new A(B,16),I=new h.a.utils.Address(w.in_msg.source),_=w.in_msg.message.slice("swapTo#".length),k.toLowerCase()===_.toLowerCase()){r.next=30;break}return console.error("address from in_msg doesnt match ",_,k),r.abrupt("continue",41);case 30:if(N=new A(w.in_msg.value),P=N.sub(o.getFeeAmount(N)),C.eq(P)){r.next=35;break}return console.error("amount from in_msg doesnt match ",C.toString(),P.toString(),N.toString()),r.abrupt("continue",41);case 35:if(F={type:"SwapTonToEth",receiver:k,amount:C.toString(),tx:{address_:{workchain:I.wc,address_hash:"0x"+h.a.utils.bytesToHex(I.hashPart)},tx_hash:"0x"+h.a.utils.bytesToHex(h.a.utils.base64ToBytes(w.transaction_id.hash)),lt:w.transaction_id.lt}},console.log(JSON.stringify(F)),M=new A(1e9*e),L=M.sub(o.getFeeAmount(M)),!C.eq(L)||F.receiver.toLowerCase()!==t.toLowerCase()){r.next=41;break}return r.abrupt("return",F);case 41:r.next=12;break;case 43:r.next=48;break;case 45:r.prev=45,r.t0=r.catch(10),y.e(r.t0);case 48:return r.prev=48,y.f(),r.finish(48);case 51:return r.abrupt("return",null);case 52:case"end":return r.stop()}}),r,null,[[10,45,48,51]])})))()},parseEthSignature:function(data){var e=data.tuple.elements,t=this.makeAddress(x(e[0].number.number)),n=e[1].tuple.elements;return{publicKey:t,r:x(n[0].number.number),s:x(n[1].number.number),v:Number(n[2].number.number)}},getEthVote:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("getEthVote ",e),n.next=3,t.provider.tonweb.provider.call(t.params.tonCollectorAddress,"get_external_voting_data",[["num",e]]);case 3:if(309!==(r=n.sent).exit_code){n.next=6;break}return n.abrupt("return",null);case 6:n.prev=6,o=r.stack[0][1].elements,n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(6),console.log("getEthVote, corrupted result",r),n.abrupt("return",null);case 14:return c={signatures:o.map(t.parseEthSignature)},n.abrupt("return",c.signatures);case 16:case"end":return n.stop()}}),n,null,[[6,10]])})))()},getTonVote:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,a,b,o,c,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log("getTonVote ",e),n.next=3,t.provider.tonweb.provider.call(t.params.tonMultisigAddress,"get_query_state",[["num",e]]);case 3:r=n.sent,n.prev=4,a=w(r.stack[0]),b=w(r.stack[1]),n.next=13;break;case 9:return n.prev=9,n.t0=n.catch(4),console.log("getTonVote, corrupted result",r),n.abrupt("return",null);case 13:for(console.log("getTonVote",r,a,b),o=[],c=-1===a?t.provider.oraclesTotal:b.toString(2).split("0").join("").length,i=0;i<c;i++)o.push(1);return n.abrupt("return",o);case 18:case"end":return n.stop()}}),n,null,[[4,9]])})))()},mint:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=(r=e.state.votes.map((function(e){return{signer:e.publicKey,signature:I.a.utils.joinSignature({r:e.r,s:e.s,v:e.v})}}))).sort((function(a,b){return new A(a.signer.substr(2),16).cmp(new A(b.signer.substr(2),16))})),console.log("voteForMinting",JSON.stringify(e.state.swapData),JSON.stringify(r)),t.next=6,e.provider.wtonContract.methods.voteForMinting(e.state.swapData,r).send({from:e.provider.myEthAddress}).on("transactionHash",(function(){e.state.toCurrencySent=!0,e.deleteState()}));case 6:n=t.sent,t.next=13;break;case 9:return t.prev=9,t.t0=t.catch(0),console.error(t.t0),t.abrupt("return");case 13:n.status?(e.state.step=5,e.deleteState()):console.error("transaction fail",n);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},burn:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,d,l,m,f;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.provider.myEthAddress,r=e.toAddress,o=e.amount,c=new h.a.utils.Address(r),d=c.wc,l=h.a.utils.bytesToHex(c.hashPart),m=y(o),t.prev=7,t.next=10,e.provider.wtonContract.methods.burn(m,{workchain:d,address_hash:"0x"+l}).send({from:n}).on("transactionHash",(function(){e.state.fromCurrencySent=!0}));case 10:f=t.sent,t.next=18;break;case 13:return t.prev=13,t.t0=t.catch(7),console.error(t.t0),e.resetState(),t.abrupt("return");case 18:f.status?(console.log("receipt",f),e.state.blockNumber=f.blockNumber,e.ethToTon={transactionHash:f.transactionHash,logIndex:f.events.SwapEthToTon.logIndex,blockNumber:e.state.blockNumber,blockTime:0,blockHash:"",from:n,to:{workchain:d,address_hash:l},value:m},e.state.step=2):console.error("transaction fail",f);case 19:case"end":return t.stop()}}),t,null,[[7,13]])})))()},onDoneClick:function(){this.resetState()},onCancelClick:function(){this.deleteState(),this.resetState()},onAccountChanged:function(e){var t=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var address;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(console.log("accountsChanged",e),address=e[0],t.provider){n.next=4;break}return n.abrupt("return");case 4:return n.t0=A,n.next=7,t.provider.web3.eth.getBalance(address);case 7:if(n.t1=n.sent,new n.t0(n.t1).gt(new A("0"))){n.next=11;break}return alert(t.$t("Bridge.networks.".concat(t.pair,".errors.lowBalance"))),n.abrupt("return");case 11:t.provider.myEthAddress=address,console.log("address is",t.provider.myEthAddress);case 13:case"end":return n.stop()}}),n)})))()},initProvider:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,d,l,m,f,y,v,x,T,k,I;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=window.ethereum){t.next=6;break}return alert(e.$t("Bridge.errors.installMetamask")),t.abrupt("return",null);case 6:return t.prev=6,t.next=9,n.send("eth_requestAccounts");case 9:o=t.sent.result,r=o[0],console.log("address is",r),t.next=18;break;case 14:return t.prev=14,t.t0=t.catch(6),console.log(t.t0),t.abrupt("return",null);case 18:if(n.addListener("accountsChanged",e.onAccountChanged),n.networkVersion===String(e.params.chainId)){t.next=23;break}return c=e.$t("Bridge.errors.wrongMetamaskNetwork").replace("<NETWORK>",e.$t("Bridge.networks.".concat(e.pair,".").concat(e.netTypeName,".full"))),alert(c),t.abrupt("return",null);case 23:return d=new B.a(n),l=new d.eth.Contract(C,e.params.wTonAddress),t.next=27,l.methods.getFullOracleSet().call();case 27:if((m=t.sent.length)>0){t.next=30;break}return t.abrupt("return",null);case 30:return t.t1=A,t.next=33,d.eth.getBalance(r);case 33:if(t.t2=t.sent,new t.t1(t.t2).gt(new A("0"))){t.next=37;break}return alert(e.$t("Bridge.networks.".concat(e.pair,".errors.lowBalance"))),t.abrupt("return",null);case 37:return e.newBlockHeadersSubscription=d.eth.subscribe("newBlockHeaders").on("data",(function(t){e.provider.blockNumber=t.number})).on("error",(function(e){console.error("Error on newBlockHeaders",e)})),f=new h.a(new h.a.HttpProvider(e.params.tonCenterUrl,{apiKey:"ba68682c292bf1ad6150319d94670d36a81313f08fe67592c99e43c8f718d298"})),t.next=41,f.provider.call(e.params.tonBridgeAddress,"get_bridge_data",[]);case 41:if(8===(y=t.sent.stack).length){t.next=44;break}throw new Error("Invalid bridge data");case 44:return w(y[0]),w(y[1]),w(y[2]),y[3][1],v=new A(w(y[4])),x=new A(w(y[5])),T=new A(w(y[6])),k=new A(w(y[7])),I={blockNumber:0,myEthAddress:r,web3:d,wtonContract:l,tonweb:f,oraclesTotal:m,feeFlat:v.add(x),feeFactor:T,feeBase:k},t.abrupt("return",I);case 54:case"end":return t.stop()}}),t,null,[[6,14]])})))()},onTransferClick:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!isNaN(e.amount)){t.next=3;break}return alert(e.$t("Bridge.errors.notValidAmount")),t.abrupt("return");case 3:if(!(e.amount<10)){t.next=6;break}return alert(e.$t("Bridge.errors.amountBelow10")),t.abrupt("return");case 6:if(e.toAddress.toLowerCase()!==e.params.wTonAddress.toLowerCase()&&e.toAddress.toLowerCase()!==e.params.tonBridgeAddress.toLowerCase()){t.next=9;break}return alert(e.$t("Bridge.errors.needPersonalAddress")),t.abrupt("return");case 9:if(!e.isFromTon){t.next=15;break}if(B.a.utils.isAddress(e.toAddress)){t.next=13;break}return alert(e.$t("Bridge.networks.".concat(e.pair,".errors.invalidAddress"))),t.abrupt("return");case 13:t.next=18;break;case 15:if(h.a.utils.Address.isValid(e.toAddress)){t.next=18;break}return alert(e.$t("Bridge.networks.ton.errors.invalidAddress")),t.abrupt("return");case 18:if(e.provider){t.next=24;break}return t.next=21,e.initProvider();case 21:if(e.provider=t.sent,e.provider){t.next=24;break}return t.abrupt("return");case 24:if(e.isFromTon){t.next=35;break}return t.t0=v,t.t1=Number,t.next=29,e.provider.wtonContract.methods.balanceOf(e.provider.myEthAddress).call();case 29:if(t.t2=t.sent,t.t3=(0,t.t1)(t.t2),n=(0,t.t0)(t.t3),!(e.amount>n)){t.next=35;break}return alert(e.$t("Bridge.errors.toncoinBalance").replace("<BALANCE>",String(n))),t.abrupt("return");case 35:if(e.state.createTime=Date.now(),e.state.step=1,!e.isFromTon){t.next=41;break}e.saveState(),t.next=43;break;case 41:return t.next=43,e.burn();case 43:case"end":return t.stop()}}),t)})))()}}}),P=(n(888),n(91)),F=Object(P.a)(N,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"BridgeProcessor"},[0===e.state.step?n("button",{staticClass:"BridgeProcessor-transfer",on:{click:e.onTransferClick}},[e._v(e._s(e.$t("Bridge.transfer")))]):n("div",{staticClass:"BridgeProcessor-infoWrapper"},[n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<1,pending:1===e.state.step,done:e.state.step>1}}),e._v(" "),e.getStepInfoText1.isOnlyText?n("div",{staticClass:"BridgeProcessor-info-text"},[e._v(e._s(e.getStepInfoText1.text))]):n("div",{staticClass:"BridgeProcessor-info-text"},[e._v("\n                "+e._s(e.getStepInfoText1.sendAmount)),n("br"),e._v(" "),n("a",{attrs:{href:e.getStepInfoText1.url,target:"_blank"}},[e._v(e._s(e.getStepInfoText1.url))]),e._v(" "),n("div",{staticClass:"note"},[e._v(e._s(e.getStepInfoText1.sendFromPersonal)+" "),n("b",[e._v(e._s(e.getStepInfoText1.sendNotFromExchanges))])])])]),e._v(" "),e.isFromTon?e._e():n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<2,pending:2===e.state.step,done:e.state.step>2}}),e._v(" "),n("div",{staticClass:"BridgeProcessor-info-text"},[e._v(e._s(e.getStepInfoText2))])]),e._v(" "),n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<3,pending:3===e.state.step,done:e.state.step>3}}),e._v(" "),n("div",{staticClass:"BridgeProcessor-info-text"},[e._v(e._s(e.getStepInfoText3))])]),e._v(" "),n("div",{staticClass:"BridgeProcessor-infoLine"},[n("div",{staticClass:"BridgeProcessor-info-icon",class:{none:e.state.step<4,pending:4===e.state.step,done:e.state.step>4}}),e._v(" "),n("div",{staticClass:"BridgeProcessor-info-text"},[e._v(e._s(e.getStepInfoText4))])])]),e._v(" "),e.isGetTonCoinVisible?n("button",{staticClass:"BridgeProcessor-getTonCoin",on:{click:e.mint}},[e._v(e._s(e.$t("Bridge.getToncoin")))]):e._e(),e._v(" "),e.isDoneVisible?n("button",{staticClass:"BridgeProcessor-done",on:{click:e.onDoneClick}},[e._v(e._s(e.$t("Bridge.done")))]):e._e(),e._v(" "),e.isCancelVisible?n("button",{staticClass:"BridgeProcessor-cancel",on:{click:e.onCancelClick}},[e._v(e._s(e.$t("Bridge.cancel")))]):e._e()])}),[],!1,null,"50e988da",null).exports,M=["eth","bsc"],L=c.a.extend({components:{BridgeProcessor:F},head:function(){return{title:this.$t("Bridge.networks.".concat(this.pair,".pageTitle"))}},data:function(){return{getPairGasFee__debounced:function(){},gasPrice:0,isTestnet:!1,isRecover:!1,lt:0,hash:"",isFromTon:!0,pair:"eth",amountInner:"",toAddress:"",isInterfaceBlocked:!1}},computed:{netTypeName:function(){return this.isTestnet?"test":"main"},params:function(){return T.networks[this.pair][this.netTypeName]},tonNetworkName:function(){return this.$t("Bridge.networks.ton.".concat(this.netTypeName,".name"))},tonNetworkCoin:function(){return this.$t("Bridge.networks.ton.".concat(this.netTypeName,".coin"))},pairNetworkName:function(){return this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".name"))},pairNetworkCoin:function(){return this.$t("Bridge.networks.".concat(this.pair,".").concat(this.netTypeName,".coin"))},pairNetworkCoinUrl:function(){var e=this.params.explorerUrl,address=this.params.wTonAddress;return e.replace("<ADDRESS>",address)},addressInputLabel:function(){var e=this.isFromTon?this.pair:"ton",t=this.$t("Bridge.networks.".concat(e,".").concat(this.netTypeName,".full"));return this.$t("Bridge.addressInputLabel").replace("<NETWORK>",t)},pairFee:function(){var e=this.gasPrice?this.gasPrice/this.params.defaultGwei:1,t=this.isFromTon?this.params.coinsPerGweiTo*e:this.params.coinsPerGweiFrom*e;return this.$t("Bridge.networks.".concat(this.pair,".gasFee")).replace("<FEE>",t.toFixed(4))},amount:{get:function(){var e=parseFloat(this.amountInner);return!e||isNaN(e)?0:e},set:function(e){this.amountInner=isNaN(e)?"":String(e)}},bridgeFee:function(){return!isNaN(this.amount)&&this.amount>=10?this.$t("Bridge.bridgeFeeAbove10").replace("<FEE>",String(5+.0025*(this.amount-5))):this.$t("Bridge.bridgeFeeBelow10")},fromPairs:function(){return M},toPairs:function(){var e=this;return["ton"].concat(Object(o.a)(M.filter((function(i){return i!==e.pair}))))}},watch:{isFromTon:function(){this.getPairGasFee__debounced()},pair:function(){this.getPairGasFee__debounced()}},created:function(){if(this.getPairGasFee__debounced=l()(this.getPairGasFee,100),this.$route.query.testnet&&(this.isTestnet="true"===this.$route.query.testnet.toLowerCase()),(this.$route.query.recover||this.$route.query.recovery)&&(this.isRecover=!0),this.$route.query.lt){var e=parseInt(this.$route.query.lt,10);this.lt=!e||isNaN(e)?0:e}if(this.$route.query.hash&&(this.hash=this.$route.query.hash),this.$route.query.amount){var t=parseFloat(this.$route.query.amount)/1e9;this.amount=!t||isNaN(t)?0:t}if(this.$route.query.toAddress&&(this.toAddress=this.$route.query.toAddress),this.$route.query.fromNetwork&&this.$route.query.toNetwork){var n=this.$route.query.fromNetwork.toLowerCase(),r=this.$route.query.toNetwork.toLowerCase();"ton"===n&&M.includes(r)&&(this.isFromTon=!0,this.pair=r),"ton"===r&&M.includes(n)&&(this.isFromTon=!1,this.pair=n)}},mounted:function(){this.getPairGasFee__debounced(),this.loadState()},methods:{onPairClick:function(e,t){this.isInterfaceBlocked||(e&&(this.isFromTon=!this.isFromTon),this.pair=t)},resetState:function(){this.isRecover=!1,this.lt=0,this.hash="",this.amountInner="",this.toAddress=""},loadState:function(){var e=this;if(f){var t=localStorage.getItem("bridgeState");if(t){var n;try{n=JSON.parse(t)}catch(e){return}if(!n.pair)return;this.amount=n.amount,this.toAddress=n.toAddress,this.pair=n.pair,this.$nextTick((function(){e.$refs.bridgeProcessor.loadState(n.processingState)}))}}},saveState:function(e){if(f){var t={amount:this.amount,toAddress:this.toAddress,pair:this.pair,processingState:e};localStorage.setItem("bridgeState",JSON.stringify(t))}},deleteState:function(){f&&localStorage.removeItem("bridgeState")},onInterfaceBlocked:function(e){this.isInterfaceBlocked=e},toggleFromTon:function(){this.isInterfaceBlocked||(this.isFromTon=!this.isFromTon)},getPairGasFee:function(){var e=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var data,n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=0,t.prev=1,t.next=4,fetch(e.params.getGasUrl,{method:"GET",headers:{"Cache-Control":"no-store, max-age=0"}});case 4:if((r=t.sent).ok){t.next=7;break}throw new Error("An error has occured: ".concat(r.status));case 7:return t.next=9,r.json();case 9:data=t.sent,t.next=16;break;case 12:return t.prev=12,t.t0=t.catch(1),e.gasPrice=0,t.abrupt("return");case 16:"eth"===e.pair&&(n=parseFloat(data.average)/10),"bsc"===e.pair&&(n=parseFloat(data.result.SafeGasPrice)),e.gasPrice=n>0?n:e.params.defaultGwei;case 19:case"end":return t.stop()}}),t,null,[[1,12]])})))()}}}),j=(n(891),Object(P.a)(L,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"Bridge"},[e.isTestnet?n("div",{staticClass:"Bridge-testnetWarning"},[e._v(e._s(e.$t("Bridge.testnet")))]):e._e(),e._v(" "),n("div",{staticClass:"Bridge-content"},[n("div",{staticClass:"Bridge-img",class:{isFromTon:e.isFromTon}}),e._v(" "),n("div",{staticClass:"Bridge-form"},[n("div",{key:e.isFromTon,staticClass:"Bridge-switchers",class:{isFromTon:e.isFromTon}},[n("div",{staticClass:"Bridge-switcher"},[n("div",{staticClass:"Bridge-switcherTitle",class:{disabled:e.isInterfaceBlocked}},[n("span",[e._v(e._s(e.tonNetworkName)+"")]),e._v(" "),n("ul",{staticClass:"Bridge-switcherList"},e._l(e.fromPairs,(function(t){return n("li",{key:t,on:{click:function(n){return e.onPairClick(!0,t)}}},[n("button",[e._v(e._s(e.$t("Bridge.networks."+t+"."+e.netTypeName+".name")))])])})),0)]),e._v(" "),n("div",{staticClass:"Bridge-switcherAnno"},[e._v(e._s(e.tonNetworkCoin))])]),e._v(" "),n("button",{staticClass:"Bridge-switcher-arrow",attrs:{disabled:e.isInterfaceBlocked},on:{click:e.toggleFromTon}}),e._v(" "),n("div",{staticClass:"Bridge-switcher"},[n("div",{staticClass:"Bridge-switcherTitle",class:{disabled:e.isInterfaceBlocked}},[n("span",[e._v(e._s(e.pairNetworkName)+"")]),e._v(" "),n("ul",{staticClass:"Bridge-switcherList"},e._l(e.toPairs,(function(t){return n("li",{key:t,on:{click:function(n){return e.onPairClick("ton"===t,"ton"===t?e.pair:t)}}},[n("button",[e._v(e._s(e.$t("Bridge.networks."+t+"."+e.netTypeName+".name")))])])})),0)]),e._v(" "),n("div",{staticClass:"Bridge-switcherAnno"},[n("a",{attrs:{href:e.pairNetworkCoinUrl,target:"_blank"}},[e._v(e._s(e.pairNetworkCoin))])])])]),e._v(" "),n("div",{staticClass:"Bridge-inputWrapper"},[n("label",{attrs:{for:"amountInput"}},[e._v(e._s(e.$t("Bridge.amountOfTon")))]),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.amountInner,expression:"amountInner"}],attrs:{disabled:e.isInterfaceBlocked,type:"number",id:"amountInput"},domProps:{value:e.amountInner},on:{input:function(t){t.target.composing||(e.amountInner=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"Bridge-inputWrapper"},[n("label",{attrs:{for:"toInput",id:"toInputLabel"}},[e._v(e._s(e.addressInputLabel))]),n("br"),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.toAddress,expression:"toAddress"}],attrs:{disabled:e.isInterfaceBlocked,type:"text",id:"toInput"},domProps:{value:e.toAddress},on:{input:function(t){t.target.composing||(e.toAddress=t.target.value)}}})]),e._v(" "),n("div",{staticClass:"Bridge-pairFee"},[e._v(e._s(e.pairFee))]),e._v(" "),n("div",{staticClass:"Bridge-bridgeFee"},[e._v(e._s(e.bridgeFee))]),e._v(" "),n("BridgeProcessor",{key:e.pair,ref:"bridgeProcessor",attrs:{"is-testnet":e.isTestnet,"is-recover":e.isRecover,lt:e.lt,hash:e.hash,"is-from-ton":e.isFromTon,pair:e.pair,amount:e.amount,"to-address":e.toAddress},on:{"interface-blocked":e.onInterfaceBlocked,"state-changed":e.getPairGasFee__debounced,"reset-state":e.resetState,"save-state":e.saveState,"delete-state":e.deleteState}}),e._v(" "),n("div",{staticClass:"Bridge-footer"},[e._v("\n                v2.08,\n                "),n("a",{attrs:{href:"https://github.com/ton-blockchain/bridge",target:"_blank"}},[e._v(e._s(e.$t("Bridge.sourceCode")))]),e._v(",\n                "),n("a",{attrs:{href:"https://ton.org/how-it-works/bridge",target:"_blank"}},[e._v(e._s(e.$t("Bridge.howItWorks")))]),e._v(",\n                "),n("a",{attrs:{href:"https://github.com/newton-blockchain/TIPs/issues/24",target:"_blank"}},[e._v(e._s(e.$t("Bridge.documentation")))]),e._v(".\n            ")])],1)])])}),[],!1,null,"06a8ecf5",null));t.default=j.exports}}]);